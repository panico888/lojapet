<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meu Carrinho</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: Arial, sans-serif;
    background: #f9fafb;
    padding: 20px;
}

/* ===== T√çTULO ===== */
h1 {
    margin-bottom: 20px;
    text-align: center;
}

/* ===== LISTA ===== */
#cart-list {
    max-width: 900px;
    margin: auto;
}

/* ===== ITEM ===== */
.cart-item {
    display: flex;
    align-items: center;
    gap: 15px;
    background: #fff;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,.05);
}

.cart-item img {
    width: 90px;
    border-radius: 8px;
}

.cart-info {
    flex: 1;
}

/* ===== BOT√ÉO REMOVER ===== */
.remove-btn {
    background: #ef4444;
    color: white;
    padding: 10px 14px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
}

/* ===== TOTAL ===== */
#total-geral {
    max-width: 900px;
    margin: 25px auto 0;
    font-size: 1.4em;
    font-weight: bold;
    text-align: right;
}

/* ===== FINALIZAR ===== */
#btn-finalizar-whatsapp {
    max-width: 900px;
    margin: 20px auto 0;
    display: none;
    background-color: #25D366;
    color: white;
    padding: 16px;
    font-size: 1.1em;
    width: 100%;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}

#btn-finalizar-whatsapp:hover {
    background-color: #128C7E;
}

/* ===== MOBILE ===== */
@media (max-width: 768px) {

    .cart-item {
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
    }

    .cart-item img {
        width: 100%;
        max-width: 200px;
        margin: auto;
    }

    .remove-btn {
        width: 100%;
        margin-top: 10px;
    }

    #total-geral {
        text-align: center;
    }
}
</style>
</head>

<body>

<h1>üõí Meu Carrinho</h1>

<div id="cart-list"></div>

<p id="total-geral"></p>

<button id="btn-finalizar-whatsapp">
üì≤ Finalizar Pedido via WhatsApp
</button>

<script src="carrinho_base.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    carregarCarrinho();
    renderizarCarrinho();
});

function renderizarCarrinho() {
    const lista = document.getElementById("cart-list");
    const totalEl = document.getElementById("total-geral");
    const btn = document.getElementById("btn-finalizar-whatsapp");

    lista.innerHTML = "";

    if (carrinho.length === 0) {
        lista.innerHTML = "<p style='text-align:center'>Seu carrinho est√° vazio.</p>";
        totalEl.textContent = "";
        btn.style.display = "none";
        return;
    }

    let total = 0;

    carrinho.forEach(item => {
        const subtotal = item.preco * item.quantidade;
        total += subtotal;

        lista.innerHTML += `
            <div class="cart-item">
                <img src="https://via.placeholder.com/300" alt="Produto">

                <div class="cart-info">
                    <strong>${item.nome}</strong><br>
                    Quantidade: ${item.quantidade}<br>
                    Subtotal: R$ ${subtotal.toFixed(2).replace('.', ',')}
                </div>

                <button class="remove-btn" onclick="removerDoCarrinho(${item.id})">
                    Remover
                </button>
            </div>
        `;
    });

    totalEl.textContent = `Total: R$ ${total.toFixed(2).replace('.', ',')}`;
    btn.style.display = "block";
}
</script>

</body>
</html>

